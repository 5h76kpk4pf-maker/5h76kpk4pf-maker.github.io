<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ุชุณุฌูู ุงูุฏุฎูู</title>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { 
  getAuth, 
  createUserWithEmailAndPassword, 
  signInWithEmailAndPassword,
  sendPasswordResetEmail,
  onAuthStateChanged,
  signOut
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

const firebaseConfig = {
  apiKey: "ุถุน apiKey ููุง",
  authDomain: "ุถุน authDomain ููุง",
  projectId: "ุถุน projectId ููุง",
  appId: "ุถุน appId ููุง"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.register = function () {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const messageBox = document.getElementById("message");

  createUserWithEmailAndPassword(auth, email, password)
    .then(() => {
      messageBox.style.color = "lightgreen";
      messageBox.innerText = "โ ุชู ุฅูุดุงุก ุงูุญุณุงุจ ุจูุฌุงุญ";
      setTimeout(() => {
        window.location.href = "home.html";
      }, 1500);
    })
    .catch((error) => {
      if (error.code === "auth/email-already-in-use") {
        messageBox.style.color = "red";
        messageBox.innerText = "โ ุงูุจุฑูุฏ ูุณุชุฎุฏู ูุณุจููุง";
      } else {
        messageBox.style.color = "red";
        messageBox.innerText = "โ ุญุฏุซ ุฎุทุฃ";
      }
    });
};

window.login = function () {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const messageBox = document.getElementById("message");

  signInWithEmailAndPassword(auth, email, password)
    .then(() => {
      messageBox.style.color = "lightgreen";
      messageBox.innerText = "โ ุชู ุชุณุฌูู ุงูุฏุฎูู";
      setTimeout(() => {
        window.location.href = "home.html";
      }, 1500);
    })
    .catch(() => {
      messageBox.style.color = "red";
      messageBox.innerText = "โ ุจูุงูุงุช ุงูุฏุฎูู ุบูุฑ ุตุญูุญุฉ";
    });
};

window.resetPassword = function () {
  const email = document.getElementById("email").value;
  const messageBox = document.getElementById("message");

  sendPasswordResetEmail(auth, email)
    .then(() => {
      messageBox.style.color = "lightgreen";
      messageBox.innerText = "๐ฉ ุชู ุฅุฑุณุงู ุฑุงุจุท ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ";
    })
    .catch(() => {
      messageBox.style.color = "red";
      messageBox.innerText = "โ ุงูุชุจ ุจุฑูุฏ ุตุญูุญ ุฃููุงู";
    });
};

</script>
</head>

<body style="text-align:center; margin-top:100px; font-family:Arial">

<h2>ุชุณุฌูู ุงูุฏุฎูู</h2>

<input id="email" type="email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู"><br><br>
<input id="password" type="password" placeholder="ูููุฉ ุงููุฑูุฑ"><br><br>

<button onclick="login()">ุฏุฎูู</button>
<button onclick="register()">ุฅูุดุงุก ุญุณุงุจ</button>
<br><br>
<button onclick="resetPassword()">ูุณูุช ูููุฉ ุงููุฑูุฑุ</button>

<p id="message"></p>

</body>
</html>
